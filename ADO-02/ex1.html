<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>ADO 2</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        #experiencia_label {
            display: inline-block !important;
        }

        #erro {
            color: red
        }

        span {
            display: block;
            font-size: 11px;
            color: red;
            margin: 1.5rem 0 1rem 0;
        }

        label.obrigatorio::before {
            content: '* ';
            color: red;
        }

        input:invalid {
            border: 2px outset red;
        }
    </style>
    <script>
        const campos = ['Nome', 'CPF', 'E-mail', 'Telefone'];

        function validarCampos() {
            const erro = document.getElementById('erro');

            erro.innerText = '';

            campos.forEach(element => {
                let campo = document.getElementById(element);

                console.log(campo.validity.valid);

                if (campo.validity.valid === false) {
                    erro.innerText += `Corrija o campo ${element} para enviar o formulário. \n`;
                } else {
                    erro.innerText += '';
                };
            });
        }

        function enviar() {
            const erro = document.getElementById('erro');

            if (erro.innerText == '') {
                const popup = window.open('aba.html');
                popup.postMessage("Teste");

            }
        }
    </script>
</head>

<body>
    <main>
        <h1>ADO 02</h1>

        <section>
            <h2>Exercício 1</h2>
            <p>Faça uma página de formulário contendo os seguintes campos e atendendo aos requisitos descritos abaixo.
                Ao clicar no botão de submissão, uma nova aba deve ser aberta no navegador e os dados do formulário
                devem ser mostrados nesta nova aba.</p>
            <!--
                Ao clicar no botão de submissão, uma nova aba deve ser aberta no navegador e os dados do formulário devem ser mostrados nesta nova aba.
            -->
            <form>
                <p id="erro"></p>

                <label for="Nome" class="obrigatorio">Nome</label>
                <input type="text" id="Nome" placeholder="Nome Sobrenome" pattern="[A-Za-z]{2,}\s[A-Za-z]{2,}"
                    title="Digite um nome e um sobrenome" required autofocus>

                <label for="CPF" class="obrigatorio">CPF</label>
                <input type="text" id="CPF" placeholder="XXX.XXX.XXX-XX" pattern="[0-9]{3}.[0-9]{3}.[0-9]{3}-[0-9]{2}"
                    title="XXX.XXX.XXX-XX" required>

                <label for="E-mail" class="obrigatorio">E-mail</label>
                <input type="email" id="E-mail" placeholder="nome@email.com" title="nome@email.com" required>

                <label for="Telefone" class="obrigatorio">Telefone</label>
                <input type="tel" id="Telefone" placeholder="XX XXXXX-XXXX" pattern="[0-9]{2}\s[9]?[0-9]{4}-[0-9]{4}"
                    title="99 99999-9999" required>

                <label for="Formas_de_pagamento">Forma de pagamento</label>
                <input list="formas" id="Formas_de_pagamento">

                <datalist id="formas">
                    <option value="Cartão de crédito">
                    <option value="Cartão de débito">
                    <option value="Boleto bancario">
                    <option value="Transferẽncia por PIX">
                </datalist>

                <span>* Preenchimento obrigatório.</span>

                <button onclick="validarCampos(); enviar();">Enviar</button>
            </form>
        </section>

        <hr>

        <section>
            <a href="./ex2.html"><h2>Exercício 2</h2></a>
            <p>Crie uma página que se comunica com o servidor websocket ('wss://echo.websocket.org'). A página deve
                conter uma caixa de texto e um botão para enviar mensagens para o servidor. A conexão deve ser iniciada
                digitando a palavra 'open' na caixa de texto. Todas as mensagens escritas na caixa de texto após a
                conexão ser aberta devem ser enviadas para o servidor. Para fechar a conexão, a palavra a ser digitada
                na caixa de texto é 'close'. A página deve conter também uma área de texto para receber e mostrar as
                mensagens retornadas pelo servidor.</p>
        </section>

        <hr>

        <section>
            <a href="./ex3.html"><h2>Exercício 3</h2></a>
            <p>Crie uma página contendo uma lista com 10 nomes e duas áreas div: uma para atendimento e outra para
                espera. A página deve permitir que os nomes da lista sejam arrastados para as divs.</p>
        </section>
    </main>
</body>

</html>