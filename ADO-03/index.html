<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Notifications API</title>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext"
    rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" type='text/css' media='all' href="./static/css/webslides.css">
  <link rel="stylesheet" type="text/css" media="all" href="./static/css/material-icons.css">
  <style>
    .flexblock.activity li {
      width: -webkit-fill-available!important;
    }

    .card-50 {
      min-height: 626px;
    }

    .codeFocus {
      font-weight: bold;
      color: #4444DD;
    }

    #avisoRecebimento {
      visibility: hidden;
    }
  </style>

  <!-- Favicons -->
  <link rel="shortcut icon" sizes="48x48" href="./img/favicon.svg">

  <!-- Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#333333">
</head>

<body>
  <main role="main">

    <!-- Slides -->
    <article id="webslides">

      <!-- Integrantes -->
      <section class="bg-apple">
        <div class="wrap aligncenter fadeIn slow">
          <p class="text-subtitle">Aplicações Ricas para Internet</p>
          <h1 class="text-landing">Notifications API</h1>
        </div>  
      </section>

      <!-- Sobre a Notifications API -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <h2>Sobre</h2>
          <ul class="flexblock features">

            <li>
              <div>
                <h2>
                  <span class="material-icons">
                    notifications_active
                  </span>
                  Notificações
                </h2>
                no nível do sistema
              </div>
            </li>

            <li>
              <div>
                <h2>
                  <span class="material-icons">
                    devices_other
                  </span>
                  Aparência variável
                </h2>
                de acordo com o dispositivo
              </div>
            </li>

            <li>
              <div>
                <h2>
                  <span class="material-icons">
                    settings
                  </span>
                  Permissão do usuário
                </h2>
                necessária
              </div>
            </li>

          </ul>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/luiz.jpg" alt="Foto do integrante Luiz Carlos" class="avatar-80" title="Luiz Carlos">
          </div>
        </footer>
        
      </section>

      <!-- Fotos de Notificações -->
      <section>
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap grid sms vertical-align">
          <div class="column">
            <img src="./img/macOs.jpg" title="macOS">
          </div>
          <div class="column">
            <img src="./img/notifications.png" title="Chrome e Android">
          </div>
          <div class="column">
            <img src="./img/windows.png" title="Windows">
          </div>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/luiz.jpg" alt="Foto do integrante Luiz Carlos" class="avatar-80" title="Luiz Carlos">
          </div>
        </footer>
        
      </section>

      <!-- Compatibilidade Parte 1 de 2 -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <h2>Compatibilidade com os navegadores desktop</h2>
          <ul class="flexblock activity">
            <li>
              <div>
                <span class="title">Chrome</span>
                <span class="summary">22</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Edge</span>
                <span class="summary">14</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Firefox</span>
                <span class="summary">22</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Internet Explorer</span>
                <span class="summary">Não</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Opera</span>
                <span class="summary">25</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Safari</span>
                <span class="summary">7</span>
              </div>
            </li>
          </ul>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/luiz.jpg" alt="Foto do integrante Luiz Carlos" class="avatar-80" title="Luiz Carlos">
          </div>
        </footer>
        
      </section>

      <!-- Compatibilidade Parte 2 de 2 -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <h2>Compatibilidade com os navegadores mobile</h2>
          <ul class="flexblock activity">
            <li>
              <div>
                <span class="title">Chrome</span>
                <span class="summary">Sim</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">WebView Android</span>
                <span class="summary">Não</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Firefox</span>
                <span class="summary">22</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Samsung Internet</span>
                <span class="summary">Sim</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Opera</span>
                <span class="summary">Sim</span>
              </div>
            </li>
            <li>
              <div>
                <span class="title">Safari</span>
                <span class="summary">Não</span>
              </div>
            </li>
          </ul>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/luiz.jpg" alt="Foto do integrante Luiz Carlos" class="avatar-80" title="Luiz Carlos">
          </div>
        </footer>
        
      </section>

      <!-- Como usar -->
      <section>
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <h2>Como usar</h2>
        </div>

        <ol class="flexblock steps">
          <li>
            <span class="material-icons">
              check
            </span>
            <h3>1. Checar compatibilidade</h3>
          </li>
          <li>
            <span class="material-icons">
              sentiment_satisfied
            </span>
            <h3>2. Pedir permissão do usuário</h3>
          </li>
          <li>
            <span class="material-icons">
              send
            </span>
            <h3>3. Enviar notificação</h3>
          </li>
          <li>
            <span class="material-icons">
              clear
            </span>
            <h3>4. Fechar notificações</h3>
          </li>
        </ol>

        <footer>
          <div class="alignright">
            <img src="./img/fernando.jpeg" alt="Foto do integrante Luiz Fernando" class="avatar-80" title="Luiz Fernando">
          </div>
        </footer>
        
      </section>

      <!-- 1. Checar compatiblidade -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <div class="card-50 bg-white">
            <figure>
              <img src="./img/cookie-the-pom-SNf-hZz6zOY-unsplash1.jpg" alt="Pomeranian working on an iPad">
            </figure>
            <div class="flex-content">
              <h3 class="hidden">Checar compatibilidade</h3>
              <pre>
function checarCompatibilidade() {
  if (!(<span class="codeFocus">"Notification" in window</span>)) {
    alert("Este navegador não é compatível com a API de Notificações");
  } else {
    alert("Este navegador é compatível com a API de Notificações");
    // Continuar desenvolvimento
  }
}
</pre>
              <button class="button" onclick="checarCompatibilidade();">Checar compatibilidade</button>
            </div>
          </div>
        </div>

        

        <footer>
          <div class="alignright">
            <img src="./img/fernando.jpeg" alt="Foto do integrante Luiz Fernando" class="avatar-80" title="Luiz Fernando">
          </div>
        </footer>
        
      </section>

      <!-- 2. Pedir permissão do usuário -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <div class="card-50 bg-white">
            <figure>
              <img src="./img/cookie-the-pom-siNDDi9RpVY-unsplash2.jpg" alt="Pomeranian working on an iPad">
            </figure>
            <div class="flex-content">
              <h3 class="hidden">Pedir permissão do usuário</h3>
              <pre>
function pedirPermissao() {
  <span class="codeFocus">Notification.requestPermission()</span>.then( () => {
      switch (Notification.permission) {
      case 'denied':
        // O usuário se recusa a receber notificações
        alert('denied');
        break;
      case 'granted':
        // O usuário aceita receber notificações
        alert('granted');
        break;
      case 'default':
        // A resposta do usuário é desconhecida e por isso o navegador irá presumir que a permissão não foi concedida
        break;
    }
  });
}
</pre>
              <button class="button" onclick="pedirPermissao();">Pedir permissão</button>
            </div>
          </div>
        </div>

        

        <footer>
          <div class="alignright">
            <img src="./img/fernando.jpeg" alt="Foto do integrante Luiz Fernando" class="avatar-80" title="Luiz Fernando">
          </div>
        </footer>
        
      </section>

      <!-- 3. Enviar notificação -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <div class="card-50 bg-white">
            <figure>
              <img src="./img/cookie-the-pom-gySMaocSdqs-unsplash3.jpg" alt="Pomeranian working on an iPad">
            </figure>
            <div class="flex-content">
              <h3 class="hidden">Enviar notificação</h3>
              <pre>
function enviarNotificacao() {
  let notificacao = <span class="codeFocus">new Notification</span>('DevDog', 
  {
    body: 'Au au',
    icon: './img/pet.png',
    vibrate: [200, 100, 200],
    requireInteraction: true
  });
}
              </pre>
              <button class="button" onclick="enviarNotificacao();">Enviar notificação</button>
            </div>
          </div>
        </div>

        

        <footer>
          <div class="alignright">
            <img src="./img/fernando.jpeg" alt="Foto do integrante Luiz Fernando" class="avatar-80" title="Luiz Fernando">
          </div>
        </footer>
        
      </section>

      <!-- 4. Fechar notificação -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <div class="card-50 bg-white">
            <figure>
              <img src="./img/cookie-the-pom-gySMaocSdqs-unsplash3.jpg" alt="Pomeranian working on an iPad">
            </figure>
            <div class="flex-content">
              <h3 class="hidden">Fechar notificações</h3>
              <pre>
function fecharNotificacao() {
  const notificacao = new Notification('DevDog', {body: 'Au au', icon: './img/pet.png', vibrate: [200, 100, 200], requireInteraction: true});

  // Se a página for recarregada, então feche a notificação
  window.onunload = () => {
    <span class="codeFocus">notificacao.close();</span>
  }

  // Se o usuário deixar de visualizar a página, então feche a notificação
  document.addEventListener('visibilitychange', () => {
    if (document.visibilityState === 'hidden') {
      <span class="codeFocus">notificacao.close();</span>
    }}); 
}
              </pre>
              <button class="button" onclick="fecharNotificacao();">Fechar notificações</button>
            </div>
          </div>
        </div>

        

        <footer>
          <div class="alignright">
            <img src="./img/fernando.jpeg" alt="Foto do integrante Luiz Fernando" class="avatar-80" title="Luiz Fernando">
          </div>
        </footer>
        
      </section>

      <!-- Especificações Parte 1 de 2 -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <h2>Especificações</h2>
          <ul class="flexblock specs border">

            <h3>Constructor</h3>
            <li>
              <div>
                <h2>Notification()</h2>
                Cria uma nova instância do objeto Notification.
              </div>
            </li>

            <hr>
            <h3>Propriedades estáticas</h3>
            <li>
              <div>
                <h2>Notification.permission</h2>
                Retorna a permissão atual para exibir notificações.
              </div>
            </li>

            <hr>
            <h3>Propriedades da instância</h3>
            <li>
              <div>
                <h2>Notification.title, Notification.body, etc.</h2>
                Retorna propriedades de instâncias do objeto Notification.
              </div>
            </li>
          </ul>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/luiz.jpg" alt="Foto do integrante Luiz Carlos" class="avatar-80" title="Luiz Carlos">
          </div>
        </footer>
        
      </section>

      <!-- Especificações Parte 2 de 2 -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <h2>Especificações</h2>
          <ul class="flexblock specs border">

            <h3>Métodos estáticos</h3>
            <li>
              <div>
                <h2>Notification.requestPermission()</h2>
                Solicita a permissão do usuário para exibir notificações.
              </div>
            </li>

            <hr>
            <h3>Metódos de instância</h3>
            <li>
              <div>
                <h2>Notification.close()</h2>
                Programaticamente fecha uma notificação.
              </div>
            </li>

            <hr>
            <h3>Manipuladores de evento</h3>
            <li>
              <div>
                <h2>Notification.onshow, onclick, onclose e onerror.</h2>
                O manipulador para o evento é acionado cada vez que o usuário interage com a notificação.
              </div>
            </li>
          </ul>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/luiz.jpg" alt="Foto do integrante Luiz Carlos" class="avatar-80" title="Luiz Carlos">
          </div>
        </footer>
        
      </section>

      <!-- Exemplo -->
      <section class="bg-apple">
        <header class="bg-black">
            <span class="material-icons md-18">
              notifications
            </span>
            <span class="text-subtitle">Notifications API</span>
        </header>
        
        <div class="wrap">
          <div class="grid vertical-align">
            <div class="column">
              <h2>Exemplo</h2>
              <pre>
function notificarProva() {
  const prova = new Notification('Aplicações Ricas para Internet', {body: 'Prova amanhã', icon: './img/school.png', vibrate: [200, 100, 200], requireInteraction: true});

  prova.onshow = () => {
    ar = document.getElementById('avisoRecebimento');
    ar.style.visibility = 'visible';
  };

  prova.onclick = () => {
    window.open('https://senacsp.blackboard.com/');
  }

  prova.onerror = () => {
    alert('Erro ao tentar exibir a notificação!');
  }

  prova.onclose = () => {
    alert('Cuidado para não se esquecer da prova!');
  }
}
              </pre>
            </div>

            <div class="column">
              <fieldset onclick="notificarProva();">
                <legend>Chat</legend>
                <h4>Professor enviou:</h4>
                <span>Prova surpresa amanhã!</span>
                <hr>
                <h4 id="avisoRecebimento">Renan recebeu a notificação.</h4>
              </fieldset>
            </div>

          </div>
        </div>

        <footer>
          <div class="alignright">
            <img src="./img/renan.jpeg" alt="Foto do integrante Renan Angusto" class="avatar-80">
          </div>
        </footer>
        
      </section>

      <!-- Dúvidas? -->
      <section class="bg-apple">
        <div class="wrap aligncenter fadeIn slow">
          <p class="text-subtitle">Aplicações Ricas para Internet</p>
          <h1 class="text-landing">Notifications API</h1>
          <hr>
          <h2 class="text-intro aligncenter">Dúvidas?</h2>
          </div>  
      </section>

    </article>
  </main>

  <!-- Javascript -->
  <div>
    <script src="./static/js/webslides.js"></script>
    <script>
      window.ws = new WebSlides();

      function checarCompatibilidade() {
        if (!("Notification" in window)) {
          alert("Este navegador não é compatível com a API de Notificações");
        } else {
          alert("Este navegador é compatível com a API de Notificações");
          // Continuar desenvolvimento
        }
      }

      function pedirPermissao() {
        Notification.requestPermission().then( () => {
            switch (Notification.permission) {
            case 'denied':
              // O usuário se recusa a receber notificações
              alert('denied');
              break;
            case 'granted':
              // O usuário aceita receber notificações
              alert('granted');
              break;
            case 'default':
              // A resposta do usuário é desconhecida e por isso o navegador irá presumir que a permissão não foi concedida
              break;
          }
        });
      }

      function enviarNotificacao() {
        const notificacao = new Notification('DevDog', 
        {
          body: 'Au au',
          icon: './img/pet.png',
          vibrate: [200, 100, 200],
          requireInteraction: true
        });
      }

      function fecharNotificacao() {
        const notificacao = new Notification('DevDog', {body: 'Au au', icon: './img/pet.png', vibrate: [200, 100, 200], requireInteraction: true});

        // Se a página for recarregada, então feche a notificação
        window.onunload = () => {
          notificacao.close();
        }

        // Se o usuário deixar de visualizar a página, então feche a notificação
        document.addEventListener('visibilitychange', () => {
          if (document.visibilityState === 'hidden') {
            notificacao.close();
          }}); 
      }
    
      function notificarProva() {
        const prova = new Notification('Aplicações Ricas para Internet', {body: 'Prova amanhã', icon: './img/school.png', vibrate: [200, 100, 200], requireInteraction: true});

        prova.onshow = () => {
          ar = document.getElementById('avisoRecebimento');
          ar.style.visibility = 'visible';
        };

        prova.onclick = () => {
          window.open('https://senacsp.blackboard.com/');
        }

        prova.onerror = () => {
          alert('Erro ao tentar exibir a notificação!');
        }

        prova.onclose = () => {
          alert('Cuidado para não se esquecer da prova!');
        }
      }
    </script>
  </div>

</body>

</html>